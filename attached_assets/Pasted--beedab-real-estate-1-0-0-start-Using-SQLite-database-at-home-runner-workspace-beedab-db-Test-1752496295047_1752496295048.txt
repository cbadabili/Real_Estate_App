
> beedab-real-estate@1.0.0 start
Using SQLite database at: /home/runner/workspace/beedab.db
Testing database connection...
✅ Database connection successful
Creating users table...
✅ Users table ready
Creating properties table...
✅ Properties table ready
Creating rental tables...
Enabling foreign key constraints...
Step 1: Creating rental_listings table...
✅ rental_listings table created successfully
Step 2: Verifying rental_listings table exists...
Table check result: [ { name: 'rental_listings' } ]
Step 3: Creating rental_applications table...
✅ rental_applications table created successfully
Step 4: Creating lease_agreements table...
✅ lease_agreements table created successfully
✅ All rental tables created successfully
✅ Rental tables created successfully
Creating marketplace tables...
Creating service_categories table...
Creating marketplace_providers table...
Adding missing columns to marketplace_providers...
Note: logo_url column may already exist or other error: Failed to run the query 'ALTER TABLE marketplace_providers ADD COLUMN logo_url TEXT'
Note: banner_url column may already exist or other error: Failed to run the query 'ALTER TABLE marketplace_providers ADD COLUMN banner_url TEXT'
Note: company_registration column may already exist or other error: Failed to run the query 'ALTER TABLE marketplace_providers ADD COLUMN company_registration TEXT'
Note: tax_clearance column may already exist or other error: Failed to run the query 'ALTER TABLE marketplace_providers ADD COLUMN tax_clearance TEXT'
Note: insurance_details column may already exist or other error: Failed to run the query 'ALTER TABLE marketplace_providers ADD COLUMN insurance_details TEXT'
✅ Added minimum_project_size column
✅ Added maximum_project_size column
✅ Added hourly_rate column
✅ Added daily_rate column
✅ Added project_rate column
✅ Added emergency_services column
✅ Added warranty_period column
✅ Added payment_terms column
✅ Added payment_methods column
✅ Added portfolio_images column
✅ Added certifications column
✅ Added languages_spoken column
✅ Added team_size column
Creating artisan_skills table...
Creating training_programs table...
Creating building_materials table...
Creating project_requests table...
✅ Marketplace tables created successfully
Seeding services data...
Seeding services data...
✅ Services data already exists, skipping seeding...
Seeding marketplace data...
Seeding marketplace data...
No existing marketplace data found, proceeding with seeding...
Inserted 20 service categories

/home/runner/workspace/node_modules/better-sqlite3/lib/methods/wrappers.js:5
    return this[cppdb].prepare(sql, this, false);
                       ^
SqliteError: table marketplace_providers has no column named status
    at Database.prepare (/home/runner/workspace/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/home/runner/workspace/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/home/runner/workspace/node_modules/src/sqlite-core/session.ts:135:15)
    at QueryPromise._prepare (/home/runner/workspace/node_modules/src/sqlite-core/query-builders/insert.ts:379:78)
    at QueryPromise.all (/home/runner/workspace/node_modules/src/sqlite-core/query-builders/insert.ts:396:15)
    at QueryPromise.execute (/home/runner/workspace/node_modules/src/sqlite-core/query-builders/insert.ts:408:40)
    at QueryPromise.then (/home/runner/workspace/node_modules/src/query-promise.ts:31:15) {
  code: 'SQLITE_ERROR'
}

Node.js v20.18.1